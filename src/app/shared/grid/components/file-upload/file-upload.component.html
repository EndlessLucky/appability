<!--<div>-->
<!--  <pre>-->
<!--      {{files | json}}-->
<!--  </pre>-->
<!--</div>-->

<input type="file" #fileInput id="fileUpload" name="fileUpload" multiple="multiple" accept="{{allowedMimeTypes}}" style="display:none;"/>

<mat-form-field>
  <mat-label>{{label}}</mat-label>
  <mat-icon matSuffix (click)="onFileSelect()"> file_upload</mat-icon><input type="text" readonly [formControl]="inputControl" matInput (click)="onFileSelect()" >
</mat-form-field>


<div class="file-upload-field">
  <div class="image-container">
    <div *ngIf="files.length">
      <div *ngFor="let file of files; index as i">
        <div *ngIf="file.isImage" class="image-box" title="{{file.data.name}} ({{file.data.size | filesize}})">
          <button mat-button class="x hide" (click)="removeElement(i)" title="Delete this"><mat-icon>delete</mat-icon></button>
          <ng-container *ngIf="file.progress < 100">
            <div class="layer2 overlay"></div>

            <div class="layer3">
              <mat-progress-spinner [value]="file.progress" class="mat-spinner-neutral-no"></mat-progress-spinner>
            </div>
            <div style="text-align: center">
              <span>{{file.progress}}% of {{file.data.size | filesize}}</span>
            </div>
            <!--                <span style="float: left">{{file.data.name}}</span>-->

          </ng-container>
          <div class="layer1">
              <img src="{{file.src}}" alt="{{file.data.name}}" title="{{file.data.name}}" />
          </div>
          <!--                <span *ngIf="urls[file.data.name]">-->
          <!--              <img style="max-width: 50px" src="http://localhost:8083/drive/{{urls[file.data.name]}}" alt="nodata" />-->
          <!--                </span>-->


        </div>
      </div>
    </div>
  </div>

</div>



<!--  <div style="margin-left: 0.5em;">-->
<!--      <button mat-raised-button (click)="onFileSelect()">-->
<!--        <mat-icon>file_upload</mat-icon>-->
<!--        Choose one or more files-->
<!--      </button>-->
<!--    </div>-->
